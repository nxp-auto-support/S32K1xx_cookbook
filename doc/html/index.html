<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NXP: S32K1xx Series Cookbook</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="s32k1xx_cookbook_logo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NXP
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">S32K1xx Series Cookbook </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This is an extension of <a href="https://www.nxp.com/docs/en/application-note/AN5413.pdf">S32K14x Series Cookbook Application Note</a>. Software examples and startup code to exercise microcontroller features.<br />
 Notice that the Documentation is based in S32K14x, Clocks and I/O ports configuration changes when using S32K11x.<br />
 The table bellow lists the documentation links for each example and its brief functional description.</p>
<a class="anchor" id="software_examples"></a>
<table class="doxtable">
<caption>S32K1xx Software Examples</caption>
<tr>
<th><b> Category </b> </th><th><b> Software Example </b> </th><th><p class="starttd"><b> Description </b></p>
<p class="endtd"></p>
</th></tr>
<tr>
<td rowspan="3"><center><b> Hello World </b></center> </td><td><center><a class="el" href="page_hello_world.html">Hello World</a></center> </td><td>Simplest project: <ul>
<li>
Configure GPIO </li>
<li>
Output to LED follows switch input </li>
</ul>
</td></tr>
<tr>
<td><center><a class="el" href="page_hello_clocks.html">Hello World + Clocks</a></center> </td><td>Perform common initialization for clocks and LPIT: <ul>
<li>
Initialize System Oscillator (SOSC) </li>
<li>
Initialize LPIT channel (1 second timeout) </li>
<li>
Toggle output to LED every LPIT timeout </li>
</ul>
</td></tr>
<tr>
<td><center><a class="el" href="page_hello_ints.html">Hello World + Clocks + Interrupts</a></center> </td><td><p class="starttd">The Hello World + Clock example is modified to service the PIT channel timeout with an interrupt service route: </p><ul>
<li>
Initialize System Oscillator (SOSC) </li>
<li>
Initialize an LPIT channel for 1 second timeout and enable its interrupt </li>
<li>
Wait forever </li>
<li>
At LPIT timeout interrupt, toggle output to LED </li>
</ul>
<p class="endtd"></p>
</td></tr>
<tr>
<td rowspan="3"><center><b> Analog Modules </b></center> </td><td><center><a class="el" href="page_cmp.html">Comparator (CMP)</a></center> </td><td>Compare an analogic input with a software configurable reference. <ul>
<li>
LED will turn red if the input voltage does not overcome the given threshold </li>
<li>
and green if it does </li>
</ul>
</td></tr>
<tr>
<td><center><a class="el" href="page_adc.html">Analog-to-Digital Converter (ADC)</a></center> </td><td>Perform simple analog to digital conversions using software trigger: <ul>
<li>
Initialize ADC for SW trigger, continuous mode </li>
<li>
loop:<ul>
<li>Convert channel connected to pot on evaluation board</li>
<li>Scale result to 0 to 5000 mV</li>
<li>Light evaluation board LEDs to reflect voltage level</li>
<li>Convert channel connected to the ADC high reference voltage </li>
</ul>
</li>
</ul>
</td></tr>
<tr>
<td><center><a class="el" href="page_adccal.html">Analog-to-Digital Converter Calibration (ADC)</a></center> </td><td><p class="starttd">Perform simple analog to digital conversions using software trigger: </p><ul>
<li>
Initialize ADC for SW trigger, continuous mode </li>
<li>
Ask for ADC calibration module </li>
<li>
loop:<ul>
<li>Convert channel connected to pot on evaluation board</li>
<li>Valid User Gain values are between 0 - 1023.</li>
<li>Valid User Offset values are between 0 - 255.</li>
<li>Offset and Gain values are in 2's-complement format. </li>
</ul>
</li>
</ul>
<p class="endtd"></p>
</td></tr>
<tr>
<td rowspan="7"><center><b> Communication Modules </b></center> </td><td><center><a class="el" href="page_lpspi.html">Low Power Serial Peripheral Interface (LPSPI)</a></center> </td><td>Transmit and receive a SPI frame: <ul>
<li>
Initialize LPSPI for 1M Baud, PCS3 which is connected to SPC on EVB </li>
<li>
Wait for Tx FIFO to have at least one available slot then issue transmit </li>
<li>
Wait for Rx FIFO to have at least one received frame then read data </li>
</ul>
</td></tr>
<tr>
<td><center><a class="el" href="page_lpi2c.html">Low Power Inter-Integrated Circuit (LPI2C)</a></center> </td><td>Send one single Address ignoring NACKS. <ul>
<li>
Initialize I2C module as Master </li>
<li>
Loop:<ul>
<li>Transmit Address: 0x1E, Ignoring NACKs </li>
</ul>
</li>
</ul>
</td></tr>
<tr>
<td><center><a class="el" href="page_lpuart.html">Low Power Universal Asynchronous Rx/Tx (LPUART)</a></center> </td><td>Transmit and receive characters: <ul>
<li>
Initialize UART for 9600 baud, 1 stop, no parity </li>
<li>
Loop:<ul>
<li>Transmit string, then a prompt character on new line</li>
<li>When character is received, echo it back </li>
</ul>
</li>
</ul>
</td></tr>
<tr>
<td><center><a class="el" href="page_flexio.html">Flexible I/O (FlexIO)</a></center> </td><td><p class="starttd">FlexI/O with SIRCDIV2 as clock source Emulating: </p><table class="doxtable">
<tr>
<td rowspan="3">UART transmitter instance, 19200 baud, 1 stop, no parity </td><td>TIMER 0 </td></tr>
<tr>
<td>SHIFTER 0 </td></tr>
<tr>
<td>FXIO_D1 (PTD1) </td></tr>
<tr>
<td rowspan="2">100KHz PWM signal, duty cycle as parameter </td><td>TIMER 1 </td></tr>
<tr>
<td>FXIO_D0 (PTD0) </td></tr>
</table>
<p class="endtd"></p>
</td></tr>
<tr>
<td><center><a class="el" href="page_flexcan.html">FlexCAN</a></center> </td><td>Transmit and receive an eight byte CAN 2.0 message at 500 KHz: <ul>
<li>
Initialize FlexCAN and Message Buffer 4 to receive a message </li>
<li>
Transmit one frame using Message Buffer 0 </li>
<li>
Loop:<ul>
<li>If Message Buffer 4 received message flag is set, read message</li>
<li>If Message Buffer 0 transmit done flag is set, transmit another message </li>
</ul>
</li>
</ul>
</td></tr>
<tr>
<td><center><a class="el" href="page_canfd.html">CAN Flexible Data-Rate</a></center> </td><td>Transmit and receive a 64 byte CAN FD message at 500 KHz and 1 or 2 MHz: <ul>
<li>
Initialize FlexCAN and Message Buffer 4 to receive a message </li>
<li>
Transmit one frame using Message Buffer 0 </li>
<li>
Loop:<ul>
<li>If Message Buffer 4 received message flag is set, read message</li>
<li>If Message Buffer 0 transmit done flag is set, transmit another message </li>
</ul>
</li>
</ul>
</td></tr>
<tr>
<td><center><a class="el" href="page_canfdpadding.html">CAN Flexible Padding</a></center> </td><td><p class="starttd">Transmit and receive a 64 byte CAN FD message at 500 KHz and 1 or 2 MHz: </p><ul>
<li>
Initialize FlexCAN and Message Buffer 4 to receive a message </li>
<li>
Transmit one frame using Message Buffer 0 </li>
<li>
FlexCAN adds the necessary number of bytes with constant 0xCC pattern to complete the expected DLC </li>
<li>
Loop: NODE A (Tx)<ul>
<li>Transmits 8-bytes ($11, $11, $11...) with DLC=13 to the ID=$43C, whenever BTN0 is pressed. (Using the MB0).</li>
<li>Transmits 32-bytes ($22, $22, $22...) with DLC=13 to the ID=$36F, whenever BTN1 is pressed. (Using the MB4). NODE B (Rx) (NODE_A macro uncommented-out)</li>
<li>Polls MB0 flag (ID=$43C), when a complete message is received it prints the content of the MB0 (32 bytes).</li>
<li>Polls MB4 flag (ID=$36F), when a complete message is received it prints the content of the MB4 (32 bytes). </li>
</ul>
</li>
</ul>
<p class="endtd"></p>
</td></tr>
<tr>
<td rowspan="4"><center><b> Timer Modules </b></center> </td><td><center><a class="el" href="page_pdb.html">Programmable delay block (PDB)</a></center><p class="endtd"></p>
</td><td><p class="starttd">Triggered by software, in continuous mode with a 9ms period. </p><ul>
<li>
Initialize ADC for HW triggers </li>
<li>
PDB will trigger it with a small delay </li>
</ul>
<p class="endtd"></p>
</td></tr>
<tr>
<td><center><a class="el" href="page_ftm.html">FlexTimer Module (FTM)</a></center> </td><td><p class="starttd">Perform common timed I/O functions with FTM: </p><ul>
<li>
Module counter initialization </li>
<li>
Pulse Width Modulation </li>
<li>
Output Compare </li>
<li>
Input Capture </li>
</ul>
<p class="endtd"></p>
</td></tr>
<tr>
<td><center><a class="el" href="page_lptmr.html">Low Power Timer (LPTMR)</a></center> </td><td><p class="starttd">Counting at a 1KHz, an interrupt will be asserted every 500ms. </p><ul>
<li>
Initialize LPTMR 500ms timeout, </li>
<li>
Enable Timer Interrupt </li>
<li>
Wait forever </li>
<li>
At LPTMR timeout interrupt, toggle output to LED </li>
</ul>
<p class="endtd"></p>
</td></tr>
<tr>
<td><center><a class="el" href="page_rtc.html">Real Time Clock (RTC)</a></center> </td><td><p class="starttd">Output to LED is toggled every RTC alarm (5 secs). </p><ul>
<li>
Initialize RTC, select 32KHz LPO as clock source </li>
<li>
Enable alarm interrupt (5secs) </li>
<li>
Wait forever </li>
<li>
At alarm event:<ul>
<li>Set alarm time</li>
<li>Toggle output to LED </li>
</ul>
</li>
</ul>
<p class="endtd"></p>
</td></tr>
<tr>
<td rowspan="6"><center><b> Core and System Modules </b></center> </td><td><center><a class="el" href="page_dma.html">Direct Memory Access (DMA)</a></center> </td><td><p class="starttd">Transfer a string of bytes to a single byte location: </p><ul>
<li>
Initialize a Transfer Control Descriptor (TCD) </li>
<li>
Use software (instead of peripheral DMA requests) to initiate transfers </li>
</ul>
<p class="endtd"></p>
</td></tr>
<tr>
<td><center><a class="el" href="page_dma_sg.html">eDMA Scatter Gather</a> </center> </td><td><p class="starttd">Explore the feature of the Scatter Gatter of eDMA to transfer information: </p><ul>
<li>
Configure the TCD several times:<ul>
<li>You can choose several addresses to gather information.</li>
<li>Mix together content of different addresses. </li>
</ul>
</li>
</ul>
<p class="endtd"></p>
</td></tr>
<tr>
<td><center><a class="el" href="page_dma_lc.html">eDMA Linking Channel</a> </center> </td><td><p class="starttd">Explore the feature of the Linking Channel of eDMA. </p><ul>
<li>
Link several channels to work one after the other:<ul>
<li>Link after minor loop / major loop.</li>
<li>State Machine Sub-system. </li>
</ul>
</li>
</ul>
<p class="endtd"></p>
</td></tr>
<tr>
<td><center><a class="el" href="page_ewm.html">External Watchdog Monitor (EWM)</a></center> </td><td><p class="starttd">EWM_OUT_b signal will be asserted after 255ms.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td><center><a class="el" href="page_crc.html">Cyclic Redundancy Check (CRC)</a></center> </td><td><p class="starttd">Calculate 32-bit CRC by following RM steps. </p><ul>
<li>
CRC-32 Algorithm </li>
<li>
polynomial = 0x04C11DB7 </li>
<li>
seed = 0xFFFFFFFF </li>
<li>
Bits in a byte are transposed for writes </li>
<li>
Both bits in bytes and bytes are transposed for read </li>
<li>
XOR on reading </li>
</ul>
<p class="endtd"></p>
</td></tr>
<tr>
<td><center><a class="el" href="page_wdogwm.html">Watchdog (WDOG)</a></center> </td><td><p class="starttd">WDOG refresh in Window Mode. </p><ul>
<li>
Initialize GPIOs </li>
<li>
Initialize WDOG in Window Mode [5s - 10s]. </li>
<li>
Initialize UART for 115200 baud, 1 stop, no parity. </li>
<li>
A button refreshes the WDOG manually. </li>
<li>
The LEDs indicate if the refresh was valid or not. </li>
<li>
The UART shows the WDOG status. </li>
</ul>
<p class="endtd"></p>
</td></tr>
<tr>
<td rowspan="4"><center><b> More examples... </b></center> </td><td><center><a class="el" href="page_touch.html">Touch-Sensing</a></center> </td><td>Charge Distribution / Re-distribution method: <ul>
<li>
Initialize ADC and GPIO's </li>
<li>
The green led follows SW8 and the blue led follows SW7. </li>
</ul>
</td></tr>
<tr>
<td><center><a class="el" href="page_lcd.html">LCD Display (LCD_TFT)</a></center> </td><td><p class="starttd">Driver for ILI9341 controller. </p><ul>
<li>
Initialize LPSPI for 1M Baud, PCS3 which is connected to SPC on EVB </li>
<li>
Initialize Display 9341. </li>
<li>
Initialize Touch Controller STMPE610. </li>
<li>
Use the public functions in the drivers. </li>
</ul>
<p class="endtd"></p>
</td></tr>
<tr>
<td><center><a class="el" href="page_e_d_m_a__a_d_c__c_a_n.html">eDMA with ADC0 and CAN</a></center> </td><td>Mix together the functions of different modules using 2 boards <ul>
<li>
Initialize PORT interruptions </li>
<li>
Initialize CAN in each board </li>
<li>
Node 1 asks for information and Node 2 delivers </li>
<li>
Set up ADC, eDMA and PDB in Node 2 </li>
</ul>
</td></tr>
<tr>
<td><center><a class="el" href="page_adc_flexscan.html">ADC Flexible Scan</a></center> </td><td><p class="starttd">Mix together the functions of different modules to make an ADC flexible storage: </p><ul>
<li>
Initialize ADC with HW Trigger </li>
<li>
ADC to generate DMA Requests </li>
<li>
DMA Linking Channel </li>
<li>
PDB to periodically take ADC measurements </li>
</ul>
<p class="endtd"></p>
</td></tr>
</table>
<p>For more info visit <a href="https://www.nxp.com">nxp.com</a> </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
